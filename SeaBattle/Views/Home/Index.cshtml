@model string
<!DOCTYPE html>
<html>
<head>
    <title>Sea Battle</title>
    <link rel="stylesheet" asp-href-include="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" asp-href-include="~/css/site.css" />
    <link rel="stylesheet" asp-href-include="~/lib/jquery-UI/jquery-ui.css" />
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery-UI/jquery-ui.min.js"></script>
    <script src="~/lib/sweatalern/sweetalert.min.js"></script>

</head>
<body>
    <div class="container-fluid" style="margin-top:50px">
        <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-3"><div class="notification none" style="text-align:center" id="notif_content"></div></div>
            <div class="col-md-4"></div>
        </div>
        <div class="welcome">
            <span class="welcome-text">Sea Battle</span>
            <img src="~/img/welcome.png" class="welcome-image" />
            <br />
            <input type="text" readonly id="connectionIDtxt" class="form-control" onclick="this.select();" /><br />
            <input type="button" value="Play" id="connectBtn" class="btn" />
        </div>
        <div class="row none" id="maincontainer">
            <div class="col-lg-5 battlefield battlefield__self battlefield__wait">
                <div class="battlefield-gap">
                    <table class="battlefield-table" style="margin-left:105px;float:left">
                        <tbody>

                            <tr>
                                <td></td>
                                @for (int i = 0; i < 10; i++)//1-10
                                {
                                    <td style="text-align:center">@Convert.ToChar(i + 65)</td>
                                }
                            </tr>
                            @for (int i = 0; i < GameCore.Field.Size; i++)
                            {

                                <tr class="battlefield-row">
                                    <td>@Convert.ToInt32(i + 1)</td>
                                    @for (int j = 0; j < GameCore.Field.Size; j++)
                                    {
                                        <td class="battlefield-cell battlefield-cell__empty">
                                            <div class="battlefield-cell-content" data-y="@i" data-x="@j"><div></div></div>
                                        </td>
                                    }
                                </tr>
                            }

                        </tbody>
                    </table>

                </div>



                @*<div class="port" style="margin-left:90px">


                    <div class="port-instruction">
                        Перетащите на поле и кликните, чтобы повернуть:
                    </div>


                    <div class="port-lines">

                        <div class="port-line clearfix">

                            <div class="port-ship" style="width: 8em; height: 2em; padding-right: 3px; padding-bottom: 0px;">

                                <div data-id="L73iBCHFCvXp" data-length="4" data-position="h" class="ship-box ship-box__h ui-draggable ship-box__draggable" style="width: 8em; height: 2em; padding-right: 3px; padding-bottom: 0px;">
                                </div>
                            </div>
                        </div>

                        <div class="port-line clearfix">

                            <div class="port-ship" style="width: 6em; height: 2em; padding-right: 2px; padding-bottom: 0px;">

                                <div data-id="JjAlE0g5lmNp" data-length="3" data-position="h" class="ship-box ship-box__h ui-draggable ship-box__draggable" style="width: 6em; height: 2em; padding-right: 2px; padding-bottom: 0px;">
                                </div>
                            </div>

                            <div class="port-ship" style="width: 6em; height: 2em; padding-right: 2px; padding-bottom: 0px;">

                                <div data-id="sLAQBIVM2atk" data-length="3" data-position="h" class="ship-box ship-box__h ui-draggable ship-box__draggable" style="width: 6em; height: 2em; padding-right: 2px; padding-bottom: 0px;">
                                </div>
                            </div>
                        </div>

                        <div class="port-line clearfix">

                            <div class="port-ship" style="width: 4em; height: 2em; padding-right: 1px; padding-bottom: 0px;">

                                <div data-id="4szl5bkBBuVg" data-length="2" data-position="h" class="ship-box ship-box__h ui-draggable ship-box__draggable" style="width: 4em; height: 2em; padding-right: 1px; padding-bottom: 0px;">
                                </div>
                            </div>

                            <div class="port-ship" style="width: 4em; height: 2em; padding-right: 1px; padding-bottom: 0px;">

                                <div data-id="zK96LJtAFJrg" data-length="2" data-position="h" class="ship-box ship-box__h ui-draggable ship-box__draggable" style="width: 4em; height: 2em; padding-right: 1px; padding-bottom: 0px;">
                                </div>
                            </div>

                            <div class="port-ship" style="width: 4em; height: 2em; padding-right: 1px; padding-bottom: 0px;">

                                <div data-id="eXqSUbCo7r6k" data-length="2" data-position="h" class="ship-box ship-box__h ui-draggable ship-box__draggable" style="width: 4em; height: 2em; padding-right: 1px; padding-bottom: 0px;">
                                </div>
                            </div>
                        </div>

                        <div class="port-line clearfix">

                            <div class="port-ship" style="width: 2em; height: 2em; padding-right: 0px; padding-bottom: 0px;">

                                <div data-id="QpLVoIYmoYEu" data-length="1" data-position="h" class="ship-box ship-box__h ui-draggable ship-box__draggable" style="width: 2em; height: 2em; padding-right: 0px; padding-bottom: 0px;">
                                </div>
                            </div>

                            <div class="port-ship" style="width: 2em; height: 2em; padding-right: 0px; padding-bottom: 0px;">

                                <div data-id="pTZT3tDOOyMo" data-length="1" data-position="h" class="ship-box ship-box__h ui-draggable ship-box__draggable" style="width: 2em; height: 2em; padding-right: 0px; padding-bottom: 0px;">
                                </div>
                            </div>

                            <div class="port-ship" style="width: 2em; height: 2em; padding-right: 0px; padding-bottom: 0px;">

                                <div data-id="KqNebfDYepNY" data-length="1" data-position="h" class="ship-box ship-box__h ui-draggable ship-box__draggable" style="width: 2em; height: 2em; padding-right: 0px; padding-bottom: 0px;">
                                </div>
                            </div>

                            <div class="port-ship" style="width: 2em; height: 2em; padding-right: 0px; padding-bottom: 0px;">

                                <div data-id="igt39meeM2K6" data-length="1" data-position="h" class="ship-box ship-box__h ui-draggable ship-box__draggable" style="width: 2em; height: 2em; padding-right: 0px; padding-bottom: 0px;">
                                </div>
                            </div>
                        </div>
                    </div>

                </div>*@
            </div>
            <div class="col-lg-5 battlefield battlefield__rival battlefield__wait" id="enemy">
                <div class="battlefield-gap">
                    <table class="battlefield-table" style="margin-right:105px;float:right">
                        <tbody>
                            <tr>
                                <td></td>
                                @for (int i = 0; i < 10; i++)//1-10
                                {
                                    <td style="text-align:center">@Convert.ToChar(i + 65)</td>
                                }
                            </tr>
                            @for (int i = 0; i < GameCore.Field.Size; i++)
                            {
                                <tr class="battlefield-row">
                                    <td>@Convert.ToInt32(i + 1)</td>
                                    @for (int j = 0; j < GameCore.Field.Size; j++)
                                    {

                                        <td class="battlefield-cell battlefield-cell__empty">
                                            <div class="battlefield-cell-content" data-y="@i" data-x="@j"><div class=""></div></div>
                                        </td>


                                    }
                                </tr>
                            }
                        </tbody>

                    </table>

                </div>
                <div class="battlefield-stat none">

                    <div class="ship-types">

                        <div class="ship-type ship-type__len_4">

                            <span class="ship">

                                <span class="ship-part">
                                </span>

                                <span class="ship-part">
                                </span>

                                <span class="ship-part">
                                </span>

                                <span class="ship-part">
                                </span>
                            </span>
                        </div>

                        <div class="ship-type ship-type__len_3">

                            <span class="ship">

                                <span class="ship-part">
                                </span>

                                <span class="ship-part">
                                </span>

                                <span class="ship-part">
                                </span>
                            </span>

                            <span class="ship">

                                <span class="ship-part">
                                </span>

                                <span class="ship-part">
                                </span>

                                <span class="ship-part">
                                </span>
                            </span>
                        </div>

                        <div class="ship-type ship-type__len_2">

                            <span class="ship">

                                <span class="ship-part">
                                </span>

                                <span class="ship-part">
                                </span>
                            </span>

                            <span class="ship">

                                <span class="ship-part">
                                </span>

                                <span class="ship-part">
                                </span>
                            </span>

                            <span class="ship">

                                <span class="ship-part">
                                </span>

                                <span class="ship-part">
                                </span>
                            </span>
                        </div>

                        <div class="ship-type ship-type__len_1">

                            <span class="ship">

                                <span class="ship-part">
                                </span>
                            </span>

                            <span class="ship">

                                <span class="ship-part">
                                </span>
                            </span>

                            <span class="ship">

                                <span class="ship-part">
                                </span>
                            </span>

                            <span class="ship">

                                <span class="ship-part">
                                </span>
                            </span>
                        </div>
                    </div>
                </div>

            </div>

        </div>

        <script src="~/lib/bootstrap/dist/js/bootstrap.min.js"></script>

        <script src="~/lib/signalr/signalr.min.js"></script>
        <script src="~/js/Hub.js"></script> <!--Connect hub (SIGNALR Core....)-->
        <script src="~/js/site.js"></script><!-- Connect site.js (functions)-->

        <script>

            var _connectionId;
            window.onload = function () {
            @if (Model != null) {
                <text>
                   _connectionId = @Model;
                 </text>
            }
            else {
                <text>
                    _connectionId = getRandomConnectionID();
                </text>
            }

            let textBox = $("#connectionIDtxt");
            textBox.attr("value", changeurl(_connectionId));
            textBox.attr("data-value", _connectionId);
            }

            $(function () {
                $(".ship-box").draggable();
                $(".battlefield-table").droppable({
                    drop: function (event, ui) {
                        $(this)
                            .addClass("ui-state-highlight")
                            .find("p")
                            .html("Dropped!");
                    }
                });
            });


        </script>
</body>
</html>